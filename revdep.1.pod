# revdep(1) manual page
# See COPYING and COPYRIGHT files for corresponding information

=pod

=encoding UTF-8

=head1 NAME

revdep - check for missing or wrong libraries of installed packages

=head1 SYNOPSIS

B<revdep> [I<OPTION>]... [I<PKGNAME>]...

=head1 DESCRIPTION

B<revdep> checks for missing or wrong libraries of installed packages
using elfutils' libelf and the same algorithm that L<ld.so(8)> uses.

=head1 OPTIONS

Mandatory arguments to long options are mandatory for short options
too.

=over 8

=item B<-L>, B<--ldsoconf>=I<FILE>

Specify an alternate location for F<ld.so.conf> file, that contains a
list of directories, one per line, in which to search for libraries.

Default: F</etc/ld.so.conf>.

=item B<-D>, B<--pkgdb>=I<FILE>

Specify an alternate location for the package database file.

Default: F</var/lib/pkg/db>.

=item B<-R>, B<--revdepdir>=I<DIR>

Specify an alternate location for B<revdep>'s package configuration
directory.  See L</"ADDITIONAL LIBRARY DIRECTORIES"> below for
details.

Default: F</etc/revdep.d>.

=item B<-I>, B<--ignore>=I<PKGNAME>[,...]

Comma-separated list of packages to ignore.

=item B<-e>, B<--erroneous>

Include erroneous files in the output.

=item B<-p>, B<--precise>

Include precise file errors in the output.

=item B<-t>, B<--trace>

Show debug/trace.

=item B<-v>, B<--verbose>

Formatted listing.

=item B<-V>, B<--version>

Print version and exit.

=item B<-h>, B<--help>

Print help and exit.

=back

=head1 EXAMPLES

Try this command to list broken packages:

        revdep

Use this command to rebuild packages on your system:

        pkgman update -fr `revdep`

=head1 ADDITIONAL LIBRARY DIRECTORIES

Upon startup, B<revdep> searches the F</etc/revdep.d> directory for
files named after packages.  If any are found, any directories
(assumed to be absolute paths and delimited by newlines) within the
file are added to a list of package specific directories to search if
a library dependency is not found in one of the many standard
locations (as specified by L<ld.so(8)>).

If a package is discovered to have a library dependencies that are in
a non-standard directory F</usr/lib/firefox> then a file named
F<firefox> should be created under F</etc/revdep.d> with a
single line containing F</usr/lib/firefox>.  This will tell B<revdep>
where to find Firefox's F<libxul.so> when looking for its library
dependencies, reducing one source of false positives.  Ideally, this
file would be included with the package's own packaging as well.

=head1 EXIT STATUS

=over 8

=item C<0>

There are no missing libraries found.  All is ok.

=item C<1>

Failed to parse command-line arguments.

=item C<2>

Failed to read package database.

=item C<3>

Failed to read F<ld.so.conf>.

=item C<4>

Found at least one missing library.

=back

=head1 AUTHORS

The original implementation of B<revdep> was done by Johannes
Winkelmann <L<jw@tks6.net>> as B<revdep> shell script.  The C++
rewrite was done by James Buren <L<ryuo@frugalware.org>> with design
contribution by Danny Rawlins <L<contact@romster.me>>, and later
re-worked for L<Zeppe-Lin|http://zeppel.ink> by Alexandr Savca
<L<alexandr.savca89@gmail.com>>.

=cut

# vim: cc=72 tw=70
# End of file.
